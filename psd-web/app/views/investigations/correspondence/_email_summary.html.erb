<% rows = [
  {
    key: { text: "Date" },
    value: { text: correspondence.correspondence_date.to_s(:govuk) }
  }
]


  direction_key = correspondence.outbound? ? "To" : "From"

  rows << {
    key: { text: direction_key },
    value: { text: "#{correspondence.correspondent_name} (#{correspondence.email_address})" }
  }

  if correspondence.email_subject.present?

    rows << {
      key: { text: "Subject" },
      value: { text: correspondence.email_subject }
    }

  end

  if correspondence.details.present?

    rows << {
      key: { text: "Email content" },
      value: { text: correspondence.details }
    }

  end

  if correspondence.email_file.attached?
    rows << {
      key: { text: "Email" },
      value: { text: link_to("View email", correspondence.email_file) }
    }
  end
%>

<%= govukSummaryList(rows: rows) %>
