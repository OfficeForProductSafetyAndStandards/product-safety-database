<% title = "Check your phone" %>
<% page_title(title, errors: resource.errors.any?) %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds-from-desktop">

    <%= error_summary resource.errors %>

    <h1 class="govuk-heading-l"><%= title %></h1>

    <p class="govuk-body">We have sent you a security code by text message.</p>
    <%= form_tag([resource_name, :two_factor_authentication], :method => :put, novalidate: true) do %>
      <%= render "components/govuk_input",
          id: "otp_code", name: "user[otp_code]",
          type: "text",
          classes: "govuk-input--width-5",
          label: { text: "Enter security code" },
          attributes: { pattern: "[0-9]*", inputmode: "numeric" },
          errorMessage: format_errors_for(resource, resource.errors.full_messages_for(:otp_code)),
          autocomplete: "one-time-code" %>

      <%= govukButton(text: "Continue") %>
    <% end %>

    <%if false # Following block is a placeholder. Hiding it pending future implementation %>
      <div class="govuk-body">
        <%= link_to "Not received a text message?", resend_code_user_two_factor_authentication_path, class: "govuk-link" %>
      </div>
    <% end %>
  </div>
</div>
