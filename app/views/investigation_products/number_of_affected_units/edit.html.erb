<% page_heading = "Edit how many units are affected" %>

<%= page_title page_heading %>
<%= govukBackLink(
  text: "Back",
  href: investigation_path(@investigation_product.investigation)
) %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <%= form_with model: @number_of_affected_units_form, url: investigation_product_number_of_affected_units_path, builder: ApplicationFormBuilder, method: :put, html: {novalidate: true}, local: true do |form| %>
    <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
      <h1 class="govuk-fieldset__heading">
          Edit how many units are affected
      </h1>
    </legend>
      <%= govukRadios(
        form: form,
        key: :affected_units_status,
        hint: { text: "You can add and edit how many product units are affected." },
        items: [
          { text: "Exact number",       value: "exact", conditional: { html: form.govuk_input(:exact_units, label: "How many units are affected?") } },
          { text: "Approximate number", value: "approx", conditional: { html: form.govuk_input(:approx_units, label: "How many units are affected?") } },
          { text: "Unknown",            value: "unknown" },
          { divider: "or" },
          { text: "Not relevant", value: "not_relevant" }
        ]
      ) %>

      <div class="govuk-button-group">
        <%= form.submit "Save", class: "govuk-button" %>
        <%= link_to "Cancel", investigation_path(@investigation_product.investigation), class: "govuk-link govuk-link--no-visited-state" %>
      </div>
    <% end %>
  </div>
</div>
