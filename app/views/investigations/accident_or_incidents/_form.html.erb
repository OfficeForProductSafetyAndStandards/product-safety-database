<%= form.govuk_radios :is_date_known, legend: "Do you know when the #{@event_type} happened?", items: [{ text: "Yes", value: "yes", conditional: { html: form.govuk_date_input(:date, legend: "Date of #{@event_type}", hint: "For example, 12 11 2020") } }, { text: "No", value: "no" }] %>

<%= form.govuk_autocomplete :product_id, label: "Select the product linked to this #{@event_type}", label_classes: "govuk-label--m", items: investigation.products.map { |product| { text: product.name, value: product.id } } %>

<% other = capture do %>
<%= render "form_components/govuk_input",
key: :severity_other,
form: form,
classes: "govuk-!-width-one-third",
label: { text: "Other type", classes: "govuk-visually-hidden" } %>
<% end %>

<%= form.govuk_radios :severity, legend: "Indicate the severity", items: [{ text: "Serious", value: "serious" },  { text: "High", value: "high" }, { text: "Medium", value: "medium" }, { text: "Low", value: "low" }, { text: "Unknown", value: "unknown_severity" }, { text: "Other", value: "other", conditional: { html: other } }] %>

<%= form.govuk_radios :usage, legend: "How was the product being used at the time of this #{@event_type}", items: [{ text: "During normal use", value: "during_normal_use" },  { text: "During misuse", value: "during_misuse" }, { text: "With the supervision of an adult", value: "with_adult_supervision" }, { text: "Without the supervision of an adult", value: "without_adult_supervision" }, { text: "Unknown use", value: "unknown_usage" }] %>

<%= form.govuk_text_area :additional_info, label: "Additional information (optional)", attributes: { maxlength: 50_000 } %>

<%= form.hidden_field :event_type, value: @event_type %>
